// Teams Data
window.teamsData = [
    { name: 'Mbarara', stadium: 'Kakyeka Stadium', logo: 'mbarara.svg' },
    { name: 'Wakiso', stadium: 'Wakissha Stadium', logo: 'wakiso.svg' },
    { name: 'Arua', stadium: 'Arua Stadium', logo: 'arua.svg' },
    { name: 'Kabale', stadium: 'Kabale Stadium', logo: 'kabale.svg' },
    { name: 'Mbale', stadium: 'Maracanã Stadium', logo: 'mbale.svg' },
    { name: 'Masaka', stadium: 'Ma', logo: 'masaka.svg' },
    { name: 'Jinja', stadium: 'Maracanã Stadium', logo: 'jinja.svg' },
    { name: 'Gulu', stadium: 'Gulu Stadium', logo: 'gulu.svg' }
];

// Manual Fixtures Data
window.fixturesData = [
    {
        time: '09:00',
        matches: [
            {
                homeTeam: 'Jinja',
                awayTeam: 'Wakiso',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 1
            },
            {
                homeTeam: 'Arua',
                awayTeam: 'Mbarara',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 0
            }
        ]
    },
    {
        time: '09:30',
        matches: [
            {
                homeTeam: 'Masaka',
                awayTeam: 'Gulu',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 2,
                awayScore: 0
            },
            {
                homeTeam: 'Mbale',
                awayTeam: 'Kabale',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 0
            }
        ]
    },
    {
        time: '10:00',
        matches: [
            {
                homeTeam: 'Jinja',
                awayTeam: 'Arua',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 2
            },
            {
                homeTeam: 'Mbarara',
                awayTeam: 'Wakiso',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 2,
                awayScore: 0
            }
        ]
    },
    {
        time: '10:30',
        matches: [
            {
                homeTeam: 'Masaka',
                awayTeam: 'Kabale',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 1
            },
            {
                homeTeam: 'Gulu',
                awayTeam: 'Mbale',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 1
            }
        ]
    },
    {
        time: '11:00',
        matches: [
            {
                homeTeam: 'Mbarara',
                awayTeam: 'Jinja',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 2
            },
            {
                homeTeam: 'Wakiso',
                awayTeam: 'Arua',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 2
            }
        ]
    },
    {
        time: '11:30',
        matches: [
            {
                homeTeam: 'Kabale',
                awayTeam: 'Gulu',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 2
            },
            {
                homeTeam: 'Mbale',
                awayTeam: 'Masaka',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 0
            }
        ]
    },
    {
        time: '12:00',
        matches: [
            {
                homeTeam: 'Arua',
                awayTeam: 'Mbale',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 0
            },
            {
                homeTeam: 'Jinja',
                awayTeam: 'Kabale',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 0
            }
        ]
    },
    {
        time: '12:30',
        matches: [
            {
                homeTeam: 'Masaka',
                awayTeam: 'Mbarara',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 0
            },
            {
                homeTeam: 'Gulu',
                awayTeam: 'Wakiso',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 2
            }
        ]
    },
    {
        time: '13:00',
        matches: [
            {
                homeTeam: 'Mbale',
                awayTeam: 'Jinja',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 0
            },
            {
                homeTeam: 'Kabale',
                awayTeam: 'Arua',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 0
            }
        ]
    },
    {
        time: '13:30',
        matches: [
            {
                homeTeam: 'Wakiso',
                awayTeam: 'Masaka',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 0,
                awayScore: 1
            },
            {
                homeTeam: 'Mbarara',
                awayTeam: 'Gulu',
                venue: 'Maracanã Stadium',
                status: 'completed',
                homeScore: 1,
                awayScore: 2
            }
        ]
    },
    {
        time: '14:00',
        matches: [
            {
                homeTeam: 'Masaka',
                awayTeam: 'Arua',
                venue: 'Maracanã Stadium',
                status: 'live',
                homeScore: 0,
                awayScore: 0
            },
            {
                homeTeam: 'Jinja',
                awayTeam: 'Gulu',
                venue: 'Maracanã Stadium',
                status: 'live',
                homeScore: 0,
                awayScore: 0
            }
        ]
    },
    {
        time: '14:30',
        matches: [
            {
                homeTeam: 'Mbale',
                awayTeam: 'Wakiso',
                venue: 'Maracanã Stadium',
                status: 'upcoming',
                homeScore: 0,
                awayScore: 0
            },
            {
                homeTeam: 'Mbarara',
                awayTeam: 'Kabale',
                venue: 'Maracanã Stadium',
                status: 'upcoming',
                homeScore: 0,
                awayScore: 0
            }
        ]
    },
    {
        time: '15:00',
        matches: [
            {
                homeTeam: 'Masaka',
                awayTeam: 'Jinja',
                venue: 'Maracanã Stadium',
                status: 'upcoming',
                homeScore: 0,
                awayScore: 0
            },
            {
                homeTeam: 'Gulu',
                awayTeam: 'Arua',
                venue: 'Maracanã Stadium',
                status: 'upcoming',
                homeScore: 0,
                awayScore: 0
            }
        ]
    },
    {
        time: '15:30',
        matches: [
            {
                homeTeam: 'Mbarara',
                awayTeam: 'Mbale',
                venue: 'Maracanã Stadium',
                status: 'upcoming',
                homeScore: 0,
                awayScore: 0
            },
            {
                homeTeam: 'Wakiso',
                awayTeam: 'Kabale',
                venue: 'Maracanã Stadium',
                status: 'upcoming',
                homeScore: 0,
                awayScore: 0
            }
        ]
    }
];

// Initialize Filters
function initializeFilters() {
    const timeSelect = document.getElementById('matchday-select');
    const teamSelect = document.getElementById('team-select');

    // Populate time options
    const times = fixturesData.map(slot => slot.time);
    timeSelect.innerHTML = `
        <option value="all">All Times</option>
        ${times.map(time => `<option value="${time}">${time}</option>`).join('')}
    `;

    // Populate team options
    teamSelect.innerHTML = `
        <option value="all">All Teams</option>
        ${teamsData.map(team => `<option value="${team.name}">${team.name}</option>`).join('')}
    `;
}

// Create Match Card
function createMatchCard(match) {
    const homeTeam = teamsData.find(team => team.name === match.homeTeam);
    const awayTeam = teamsData.find(team => team.name === match.awayTeam);
    
    let scoreDisplay = '';
    if (match.status === 'completed' || match.status === 'live') {
        scoreDisplay = `<div class="match-score">${match.homeScore} - ${match.awayScore}</div>`;
    } else {
        scoreDisplay = `<div class="match-time">vs</div>`;
    }
    
    return `
        <div class="match-card ${match.status}">
            <div class="match-teams">
                <div class="team home">
                    <img src="images/club-logos/${homeTeam.logo}" alt="${homeTeam.name}" class="team-logo">
                    <div class="team-name">${homeTeam.name}</div>
                </div>
                <div class="match-info">
                    ${scoreDisplay}
                    <div class="status-badge ${match.status}">${match.status}</div>
                </div>
                <div class="team away">
                    <img src="images/club-logos/${awayTeam.logo}" alt="${awayTeam.name}" class="team-logo">
                    <div class="team-name">${awayTeam.name}</div>
                </div>
            </div>
        </div>
    `;
}

// Display Fixtures with Filtering
function displayFixtures(time = 'all', team = 'all') {
    const fixturesContainer = document.getElementById('fixtures-container');
    
    // Filter fixtures based on selected time and team
    let filteredFixtures = [...fixturesData];

    // Filter by time
    if (time !== 'all') {
        filteredFixtures = filteredFixtures.filter(slot => slot.time === time);
    }

    // Filter by team
    if (team !== 'all') {
        filteredFixtures = filteredFixtures.map(slot => ({
            ...slot,
            matches: slot.matches.filter(match => 
                match.homeTeam === team || match.awayTeam === team
            )
        })).filter(slot => slot.matches.length > 0);
    }

    // Generate HTML
    const fixturesHTML = filteredFixtures.map(slot => `
        <div class="time-section">
            <h2 class="time-title">${slot.time}</h2>
            <div class="matches-grid">
                ${slot.matches.map(match => createMatchCard(match)).join('')}
            </div>
        </div>
    `).join('');

    fixturesContainer.innerHTML = fixturesHTML || '<p class="no-fixtures">No fixtures found</p>';
}

// Initialize when the page loads
document.addEventListener('DOMContentLoaded', () => {
    initializeFilters();
    displayFixtures();

    // Add event listeners for filters
    const timeSelect = document.getElementById('matchday-select');
    const teamSelect = document.getElementById('team-select');

    timeSelect.addEventListener('change', () => {
        displayFixtures(timeSelect.value, teamSelect.value);
    });

    teamSelect.addEventListener('change', () => {
        displayFixtures(timeSelect.value, teamSelect.value);
    });
}); 
